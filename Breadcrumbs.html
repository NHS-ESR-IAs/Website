<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MicroSiteKit ‚Äì Breadcrumbs</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Custom Styles -->
    <link href="Assets/css/style.css" rel="stylesheet" />

    <!-- Mermaid Setup -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script type="module">
        import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
        mermaid.initialize({ startOnLoad: false });
        window.mermaid = mermaid;
    </script>
</head>

<body class="glass">
    <!-- Injected Partials -->
    <div id="shared-header"></div>
    <div id="main-nav"></div>
    <div id="sidebar-nav"></div>

    <!-- Page-Specific Content -->
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb" id="breadcrumb"></ol>
        </nav>
        <div class="row">
            <div class="col-md-4 gradient-col d-flex align-items-center justify-content-center">
                <h3 class="gradient-text">Breadcrumbs</h3>
            </div>
            <div class="col-md-8">
                <div class="page-intro text-center py-4 px-3">
                    <p>Breadcrumbs are your gentle guide through the microsite maze. They show contributors where they
                        are, how
                        they got there, and how to hop back‚Äîwithout ever feeling lost. Perfect for layered layouts,
                        role-based
                        navigation, or multi-step onboarding flows.</p>

                    <ul>
                        <li>üß≠ Helps contributors orient themselves within nested content</li>
                        <li>üîó Provides quick links back to parent pages or sections</li>
                        <li>üé® Theme-safe and accessible‚Äîworks across microsite palettes</li>
                        <li>üß± Modular and easy to drop into headers, cards, or dohickies</li>
                    </ul>

                    <p>Whether you're guiding someone from ‚ÄúHome ‚Üí Onboarding ‚Üí Role Cards‚Äù or ‚ÄúLibrary ‚Üí Snippets ‚Üí
                        Tabs‚Äù,
                        breadcrumbs keep the journey clear and joyful.</p>
                </div>
            </div>
            <!-- Page full width content -->

            <div class="row mt-4">
                <div class="col-md">

                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a onclick="showPage('home')">Home</a></li>
                            <li class="breadcrumb-item"><a onclick="showPage('CC')">Catalogue</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Statutory Training</li>
                        </ol>
                    </nav>


                </div>
            </div>


            <div class="row mt-4">
                <div class="col-md">
                    <h5 class="mt-4 mb-2">üçû Breadcrumb Snippet Panel: Trace the Trail</h5>
                    <ul>
                        <li><strong>Update the trail:</strong> Change each <code>&lt;li&gt;</code> label to reflect your
                            page
                            hierarchy‚Äîe.g. <code>Home ‚Üí Library ‚Üí Tabs</code> or
                            <code>Dashboard ‚Üí Role Cards ‚Üí Editor</code>.
                        </li>
                        <li><strong>Control interactivity:</strong> Use <code>onclick="showPage('X')"</code> or
                            <code>href="..."</code> depending on whether you're using JavaScript routing or standard
                            links.
                        </li>
                        <li><strong>Mark the current page:</strong> Add <code>active</code> and
                            <code>aria-current="page"</code>
                            to
                            the final breadcrumb item to signal where the user is.
                        </li>
                        <li><strong>Theme-safe by default:</strong> No extra styling needed‚Äîjust drop it into any
                            microsite
                            layout and it‚Äôll harmonise beautifully.</li>
                        <li><strong>Optional:</strong> Add icons, emojis, or role-based labels to make the trail more
                            expressive
                            (e.g. <code>üè† Home</code>, <code>üßë‚Äçüíº Role Cards</code>).</li>
                    </ul>
                    <pre><code id="breadcrumbSnippet" class="snippet language-html">
&lt;nav aria-label=&quot;breadcrumb&quot;&gt;
  &lt;ol class=&quot;breadcrumb&quot;&gt;
    &lt;li class=&quot;breadcrumb-item&quot;&gt;&lt;a onclick=&quot;showPage('home')&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;breadcrumb-item&quot;&gt;&lt;a onclick=&quot;showPage('CC')&quot;&gt;Catalogue&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;breadcrumb-item active&quot; aria-current=&quot;page&quot;&gt;Statutory Training&lt;/li&gt;
  &lt;/ol&gt;
&lt;/nav&gt;
    </code></pre>
                    <button class="btn btn-primary w-100 mb-2" onclick="copyVisibleSnippet()">Copy</button>


                </div>
            </div>
            <!-- Playground -->
            <div class="row mt-4">
                <div class="col-md border border-info rounded p-3">
                    <section class="playground mt-5">
                        <h3>üß≠ Breadcrumb Playground</h3>

                        <div id="breadcrumbForm"></div>
                        <button type="button" id="addCrumbBtn" class="btn btn-success mb-3">+ Add Link</button><br>
                        <div class="dohicky-grid">
                            <div class="dohicky-item"><button type="button" id="generateBtn"
                                    class="btn btn-primary w-100">Generate Code</button></div>
                            <div class="dohicky-item"><button type="button" class="btn btn-primary w-100"
                                    onclick="copyCode()">Copy</button></div>
                            <div class="dohicky-item"><button type="button" class="btn btn-primary w-100"
                                    onclick="exportConfig()">üíæ Save Settings</button></div>
                            <div class="dohicky-item"> <input type="file" id="configFile" accept=".txt"
                                    style="display:none" /> <button type="button" class="btn btn-primary w-100"
                                    onclick="document.getElementById('configFile').click()">üìÇ Load Settings</button>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-md-6 border border-info rounded p-3">
                                <h5>Generated Code</h5>
                                <pre><code id="output"></code></pre>

                            </div>
                            <div class="col-md-6 border border-info rounded p-3">
                                <h5>Live Preview</h5>
                                <div id="previewArea"></div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Footer -->
            <div id="shared-footer"></div>

            <!-- Bootstrap JS + Custom Script -->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
            <script src="Assets/js/script.js"></script>
            <script src="Assets/js/playground-core.js"></script>
            <script src="Assets/js/templates.js"></script>
            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    const form = document.getElementById("breadcrumbForm");
                    const addBtn = document.getElementById("addCrumbBtn");

                    function createCrumb(defaults = { label: "", url: "" }) {
                        const row = document.createElement("div");
                        row.className = "crumb-row border rounded p-2 mb-2";

                        row.innerHTML = `
        <div class="row g-2">
          <div class="col-md-5">
            <label class="form-label">Label</label>
            <input type="text" class="form-control" name="label" value="${defaults.label}">
          </div>
          <div class="col-md-5">
            <label class="form-label">URL/Page Key</label>
            <input type="text" class="form-control" name="url" value="${defaults.url}">
          </div>
          <div class="col-md-2 d-flex align-items-end">
            <button type="button" class="btn btn-sm btn-danger removeCrumbBtn">Remove</button>
          </div>
        </div>
      `;

                        form.appendChild(row);
                    }

                    // Initial crumbs
                    createCrumb({ label: "Home", url: "home" });
                    createCrumb({ label: "Catalogue", url: "CC" });
                    createCrumb({ label: "Statutory Training", url: "" });

                    addBtn.addEventListener("click", () => createCrumb());

                    form.addEventListener("click", e => {
                        if (e.target.classList.contains("removeCrumbBtn")) {
                            e.target.closest(".crumb-row").remove();
                        }
                    });

                    document.getElementById("generateBtn").onclick = () => {
                        const items = [...form.querySelectorAll(".crumb-row")].map(row => {
                            return {
                                label: row.querySelector('[name="label"]').value,
                                url: row.querySelector('[name="url"]').value
                            };
                        });

                        const code = templates.breadcrumb({ items });
                        document.getElementById("output").textContent = code.trim();
                        document.getElementById("previewArea").innerHTML = code;
                    };
                });

            </script>
</body>

</html>