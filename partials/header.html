<header class="nhs-header">



    <!-- Header bar -->
    <div class="header-bar d-flex align-items-center justify-content-between px-3 py-2 position-relative">
        <!-- Menu Button (Left) -->
        <div class="menu-button-wrapper">
            <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu"
                aria-controls="sidebarMenu" aria-label="Open menu">
                ☰ Menu
            </button>
        </div>

        <!-- Site Title (Center) -->
        <div class="center-heading text-center flex-grow-1">
            <h1 class="mb-0">MicroSiteKit</h1>
        </div>



        <!-- Logos (Far Right) -->
        <div class="logo-container d-flex align-items-center gap-2">
            <img src="Assets/Images/Logo1.png" alt="ESR Logo" class="logo esr" />
            <img src="Assets/Images/Logo2.png" alt="NHS Logo" class="logo nhs" />
        </div>
    </div>

    <!-- Hero Banner -->
    <div class="banner-wrapper text-center position-relative">
        <img src="Assets/Images/Banner.png" alt="Welcome Hub Banner" class="Banner_image w-100" loading="lazy" />
        <div class="banner-text-overlay">
            <h1>Microsite Services</h1>
        </div>
    </div>

    <!-- ================================= -->
    <!-- ====== MAIN NAVIGATION BAR ====== -->
    <!-- ================================= -->
    <div id="desktop-nav-toolbar">
        <nav class="navbar navbar-expand-lg mt-3" aria-label="Primary">
            <div class="container flex-column"><!-- make container a column -->

                <!-- Top row: menu -->
                <div class="d-flex w-100 justify-content-between align-items-center">
                    <!-- Button for toggling the menu on mobile -->
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu"
                        aria-controls="navMenu" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <!-- Menu container -->
                    <div class="collapse navbar-collapse" id="navMenu">
                        <ul id="main-nav" class="navbar-nav mx-auto"></ul>
                    </div>
                </div>

                <!-- Second row: toolbar -->
                <div class="d-flex justify-content-center mt-2">
                    <div class="control-toolbar d-flex flex-wrap gap-2 p-2 rounded justify-content-center w-100 mt-2">
                        <!-- Theme Selector -->
                        <label for="themeSelectorHeader" class="visually-hidden">Choose Theme</label>
                        <select id="themeSelectorHeader" class="form-select form-select-sm w-auto theme-selector"
                            aria-label="Choose Theme">
                            <option value="">Select Theme</option>
                            <option value="blue">NHS Blue</option>
                            <option value="green">NHS Green</option>
                            <option value="grey">NHS Grey</option>
                            <option value="pink">NHS Pink</option>
                            <option value="purple">NHS Purple</option>
                            <option value="red">NHS Red</option>
                            <option value="yellow">NHS Yellow</option>
                            <option value="calm">Light Grey</option>
                            <option value="contrast">High Contrast</option>
                        </select>

                        <!-- Text Size Buttons -->
                        <div class="btn-group btn-group-sm" role="group" aria-label="Text Size">
                            <button type="button" onclick="setTextSize('scale-small')"
                                class="btn btn-outline-secondary">A-</button>
                            <button type="button" onclick="setTextSize('scale-medium')"
                                class="btn btn-outline-secondary">A</button>
                            <button type="button" onclick="setTextSize('scale-large')"
                                class="btn btn-outline-secondary">A+</button>
                            <button type="button" onclick="setTextSize('scale-xlarge')"
                                class="btn btn-outline-secondary">A++</button>
                        </div>

                        <!-- Dark Mode Toggle -->
                        <button type="button" class="btn btn-sm btn-outline-primary toggle-dark" aria-pressed="false">
                            Dark Mode
                        </button>

                        <!-- Search -->
                        <form class="position-relative d-flex align-items-center gap-2" role="search"
                            aria-label="Site search">
                            <label for="headerSearch" class="visually-hidden">Search</label>
                            <input id="headerSearch" class="form-control form-control-sm" type="search"
                                placeholder="Search snippets…" autocomplete="off" />
                            <button type="button" class="btn btn-sm btn-outline-secondary">Search</button>
                            <ul id="headerSearchResults" class="list-group position-absolute mt-5 w-100"></ul>
                        </form>
                    </div>
                </div>
            </div>
        </nav>
    </div>

</header>

<!-- Collapsible Sidebar -->
<div class="offcanvas offcanvas-start sidebar theme-bg" tabindex="-1" id="sidebarMenu" aria-labelledby="sidebarLabel">
    <div class="offcanvas-header">
        <h5 id="sidebarLabel">MicroSiteKit</h5>
        <button type="button" class="btn-close btn-outline-light text-reset" data-bs-dismiss="offcanvas"
            aria-label="Close"></button>
    </div>

    <div class="offcanvas-body">
        <!-- Sidebar nav UL with ID to render into -->
        <ul id="sidebar-nav" class="nav navbar-nav flex-column"></ul>

        <!-- Optional: sidebar search -->
        <div class="mt-3">
            <label for="sidebarSearch" class="form-label">Search</label>
            <input id="sidebarSearch" class="form-control form-control-sm" type="search" placeholder="Search snippets…"
                autocomplete="off" />
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>