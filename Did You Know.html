<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MicroSiteKit ‚Äì Did You Know</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Custom Styles -->
    <link href="Assets/css/style.css" rel="stylesheet" />

    <!-- Mermaid Setup -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script type="module">
        import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
        mermaid.initialize({ startOnLoad: false });
        window.mermaid = mermaid;
    </script>
</head>

<body class="glass">
    <!-- Injected Partials -->
    <div id="shared-header"></div>
    <div id="main-nav"></div>
    <div id="sidebar-nav"></div>

    <!-- Page-Specific Content -->
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb" id="breadcrumb"></ol>
        </nav>
        <div class="row">
            <div class="col-md-4 gradient-col d-flex align-items-center justify-content-center">
                <h3 class="gradient-text">Did You Know</h3>
            </div>
            <div class="col-md-8">
                <div class="page-intro text-center py-4 px-3">
                    <p>‚ÄúDid You Know‚Äù boxes are your playful knowledge nudges‚Äîideal for surfacing hidden features,
                        contributor
                        tips, or delightful facts that make onboarding memorable. They add warmth, clarity, and a touch
                        of
                        surprise
                        to any layout.</p>

                    <ul>
                        <li>‚ú® Great for highlighting lesser-known features or contributor wisdom</li>
                        <li>üé® Theme-safe and modular‚Äîstyled to harmonise across microsites</li>
                        <li>üß± Drop-in ready for cards, modals, tabs, or onboarding flows</li>
                        <li>üßº Keeps content light, engaging, and scannable</li>
                    </ul>

                    <p>Use them to say ‚ÄúDid you know you can drag modals?‚Äù, ‚ÄúDid you know this dohicky works in dark
                        mode?‚Äù, or
                        ‚ÄúDid you know penguins debug with their flippers?‚Äù‚Äîwhatever sparks joy and clarity.</p>
                </div>
            </div>
            <!-- Page full width content -->

            <div class="row mt-4">
                <div class="col-md">

                    <details class="did-you-know">
                        <summary>üí° Did you know?</summary>
                        <p>This microsite supports keyboard navigation and high contrast themes for accessibility.</p>
                    </details>


                </div>
            </div>

            <div class="row mt-4">
                <div class="col-md">
                    <h5 class="mt-4 mb-2">üí° Did You Know Panel: Whisper a Tip</h5>
                    <ul>
                        <li><strong>Update the tip:</strong> Replace the <code>&lt;p&gt;</code> content with your own
                            joyful fact,
                            feature highlight, or contributor wisdom.</li>
                        <li><strong>Change the label:</strong> Edit the <code>&lt;summary&gt;</code> to match your
                            tone‚Äîe.g.
                            <code>üí° Did you know?</code>, <code>üß† Contributor tip</code>, or
                            <code>üéâ Surprise insight</code>.
                        </li>
                        <li><strong>Style it safely:</strong> The <code>.did-you-know</code> class is theme-safe‚Äîadd
                            <code>border</code>, <code>bg-light</code>, or <code>rounded</code> if you want extra flair.
                        </li>
                        <li><strong>Make it interactive:</strong> Use <code>&lt;details&gt;</code> to keep the layout
                            clean‚Äîcontributors can expand when curious, skip when focused.</li>
                        <li><strong>Optional:</strong> Add emojis, links, or dohickies inside the tip to make it more
                            expressive
                            or
                            actionable.</li>
                    </ul>
                    <pre><code id="didYouKnowSnippet" class="snippet language-html">
&lt;details class=&quot;did-you-know&quot;&gt;
  &lt;summary&gt;üí° Did you know?&lt;/summary&gt;
  &lt;p&gt;This microsite supports keyboard navigation and high contrast themes for accessibility.&lt;/p&gt;
&lt;/details&gt;
    </code></pre>
                    <button class="btn btn-primary w-100 mb-2" onclick="copyVisibleSnippet()">Copy</button>
                </div>
            </div>
            <!-- Playground -->
            <div class="row mt-4">
                <div class="col-md border border-primary rounded p-3">
                    <section class="playground mt-5">
                        <h3>üîß Playground</h3>

                        <form id="playgroundForm" class="mb-3 row g-3">
                            <!-- Fields will be injected here by renderPlayground -->
                        </form>

                        <div class="dohicky-grid">
                            <div class="dohicky-item"><button type="button" id="generateBtn"
                                    class="btn btn-primary w-100">Generate Code</button></div>
                            <div class="dohicky-item"><button type="button" class="btn btn-primary w-100"
                                    onclick="copyCode()">Copy</button></div>
                            <div class="dohicky-item"><button type="button" class="btn btn-primary w-100"
                                    onclick="exportConfig()">üíæ Save Settings</button></div>
                            <div class="dohicky-item"> <input type="file" id="configFile" accept=".txt"
                                    style="display:none" /> <button type="button" class="btn btn-primary w-100"
                                    onclick="document.getElementById('configFile').click()">üìÇ Load Settings</button>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-md-6 border border-primary rounded p-3">
                                <h5>Generated Code</h5>
                                <pre><code id="output"></code></pre>

                            </div>
                            <div class="col-md-6 border border-primary rounded p-3">
                                <h5>Live Preview</h5>
                                <div id="previewArea"></div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Footer -->
            <div id="shared-footer"></div>

            <!-- Bootstrap JS + Custom Script -->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
            <script src="Assets/js/script.js"></script>
            <script src="Assets/js/templates.js"></script>
            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    const config = {
                        fields: [
                            { id: "summaryText", label: "Summary Text", type: "text", default: "üí° Did you know?" },
                            { id: "bodyText", label: "Body Text", type: "textarea", default: "This microsite supports keyboard navigation and high contrast themes for accessibility." }
                        ],
                        template: "didYouKnow"
                    };
                    renderPlayground(config);
                });

                function sanitizeSmartCharacters(str) {
                    return str
                        .replace(/[\u2018\u2019\u201A\u201B\u2032\u2035]/g, "'") // single quotes
                        .replace(/[\u201C\u201D\u201E\u201F\u2033\u2036]/g, '"') // double quotes
                        .replace(/[\u2013]/g, '-') // en dash
                        .replace(/[\u2014]/g, '--') // em dash
                        .replace(/\u00A0/g, ' ') // non-breaking space
                        .replace(/\u2026/g, '...') // ellipsis
                        .replace(/\u200B/g, '') // zero-width space
                        .replace(/\uFEFF/g, ''); // BOM
                }

                function copyCode() {
                    const rawText = document.getElementById("output").textContent;
                    const cleanText = sanitizeSmartCharacters(rawText);
                    navigator.clipboard.writeText(cleanText);
                    alert("Code copied (smart characters cleaned)!");
                }
            </script>


        </div>
    </div>


</body>

</html>