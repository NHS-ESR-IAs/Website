<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MicroSiteKit â€“ Toggle Section</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="Assets/css/style.css" rel="stylesheet" />

    <!-- Mermaid Setup -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script type="module">
        import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
        mermaid.initialize({ startOnLoad: false });
        window.mermaid = mermaid;
    </script>
</head>

<body class="glass">
    <!-- Injected Partials -->
    <div id="shared-header"></div>
    <div id="main-nav"></div>
    <div id="sidebar-nav"></div>

    <!-- Page Content -->
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb" id="breadcrumb"></ol>
        </nav>
        <div class="row">
            <!-- Sidebar Gradient Title -->
            <div class="col-md-4 gradient-col d-flex align-items-center justify-content-center text-start">
                <h3 class="gradient-text">Toggle Section</h3>
            </div>

            <!-- Intro Text -->
            <div class="col-md-8">
                <p>The Toggle Section is a joyful little switcherooâ€”click the button and voilÃ ! A hidden panel appears
                    with onboarding tips, contributor wisdom, or delightful nonsense. Itâ€™s perfect for keeping pages
                    clean while still offering depth, context, or surprises on demand.</p>
                <ul>
                    <li>ðŸ§¼ Keeps content tidy and collapsible</li>
                    <li>ðŸ›  Ideal for FAQs, onboarding notes, or hidden gems</li>
                    <li>ðŸŽ¯ Fully modularâ€”just change the ID and button label</li>
                </ul>
                <p>Use it to tuck away tips, reveal role-specific guidance, or deliver a punchline with perfect timing.
                </p>
            </div>
        </div>

        <!-- Toggle Section -->
        <div class="row mt-4">
            <div class="col-md">
                <!-- Toggle Button -->
                <button class="btn btn-primary w-100 text-start mb-2" type="button" data-bs-toggle="collapse"
                    data-bs-target="#joyCollapse" aria-expanded="false" aria-controls="joyCollapse">
                    ðŸŽ¯ Show Me the Joy
                </button>

                <!-- Collapsible Content -->
                <div class="collapse mt-3" id="joyCollapse">
                    <div class="card card-body">
                        This section reveals modular magic, contributor clarity,
                        and a sprinkle of onboarding delight.
                    </div>
                </div>
            </div>
        </div>

        <!-- Snippet Guide -->
        <div class="row mt-4">
            <div class="col-md">
                <h5 class="mt-4 mb-2">ðŸŽ¯ Toggle Section Snippet: Click to Reveal Joy</h5>
                <ul>
                    <li><strong>Change the button label</strong> to match the tone or purpose of your toggle.</li>
                    <li><strong>Replace <code>'toggleJoy'</code></strong> with a unique ID for each toggle section.</li>
                    <li><strong>Drop your content</strong> inside the <code>&lt;div id="toggleJoy"&gt;</code>.</li>
                    <li><strong>Duplicate the whole block</strong> for multiple togglesâ€”just keep IDs unique.</li>
                    <li><strong>Optional:</strong> Add animation classes for extra snazz.</li>
                </ul>

                <pre><code id="toggleSnippet" class="snippet language-html">
&lt;button class=&quot;btn btn-primary w-100 text-start mb-2&quot; onclick=&quot;toggleSection('toggleJoy')&quot;&gt;
  ðŸŽ¯ Show Me the Joy
&lt;/button&gt;

&lt;div id=&quot;toggleJoy&quot; style=&quot;display:none;&quot; class=&quot;mt-3&quot;&gt;
  &lt;p&gt;This section reveals modular magic, contributor clarity, and a sprinkle of onboarding delight.&lt;/p&gt;
&lt;/div&gt;

&lt;script&gt;
  function toggleSection(id) {
    const el = document.getElementById(id);
    if (!el) return;
    const isHidden = window.getComputedStyle(el).display === &quot;none&quot;;
    el.style.display = isHidden ? &quot;block&quot; : &quot;none&quot;;
  }
&lt;/script&gt;
</code></pre>

                <button class="btn btn-primary w-100 mb-2" onclick="copyVisibleSnippet()">Copy</button>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-md border border-info rounded p-3">
                <section class="playground mt-5">
                    <h3>Bootstrap Collapse Playground</h3>

                    <form id="playgroundForm" class="mb-3 row g-3">
                        <div class="col-md-3">
                            <label for="collapseId" class="form-label">Unique ID</label>
                            <input type="text" class="form-control" id="collapseId" value="joyCollapse">
                            <div class="form-text">Use a unique ID for each collapse block (e.g., joyCollapse,
                                tipsCollapse).</div>
                        </div>
                        <div class="col-md-9">
                            <label for="collapseLabel" class="form-label">Button label</label>
                            <input type="text" class="form-control" id="collapseLabel" value="ðŸŽ¯ Show Me the Joy">
                        </div>
                        <div class="col-12">
                            <label for="collapseContent" class="form-label">Collapsible content</label>
                            <textarea class="form-control" id="collapseContent"
                                rows="3">This section reveals modular magic, contributor clarity, and a sprinkle of onboarding delight.</textarea>
                        </div>
                    </form>

                    <div class="mb-3">
                        <button type="button" id="generateBtn" class="btn btn-primary">Generate code</button>
                    </div>

                    <div class="row mt-4">
                        <div class="col-md-6 border border-info rounded p-3">
                            <h5>Generated code</h5>
                            <pre><code id="output"></code></pre>
                            <button type="button" class="btn btn-primary mt-2" onclick="copyCode()">Copy to
                                clipboard</button>
                        </div>
                        <div class="col-md-6 border border-info rounded p-3">
                            <h5>Live preview</h5>
                            <div id="previewArea"></div>

                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div id="shared-footer"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
    <!-- Custom JS -->
    <script src="Assets/js/script.js"></script>
    <script src="Assets/js/templates.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const idEl = document.getElementById("collapseId");
            const labelEl = document.getElementById("collapseLabel");
            const contentEl = document.getElementById("collapseContent");
            const outputEl = document.getElementById("output");
            const previewEl = document.getElementById("previewArea");

            document.getElementById("generateBtn").onclick = () => {
                const values = {
                    id: idEl.value.trim() || "joyCollapse",
                    label: labelEl.value.trim() || "ðŸŽ¯ Show Me the Joy",
                    content: contentEl.value.trim() || "Content goes here."
                };

                const code = templates.collapseSection(values);
                outputEl.textContent = code.trim();

                // Render preview
                previewEl.innerHTML = code;

                // Optional: reset collapse state for preview (if Bootstrap JS is present)
                if (window.bootstrap) {
                    const target = previewEl.querySelector(`#${CSS.escape(values.id)}`);
                    if (target) {
                        try {
                            const collapse = bootstrap.Collapse.getOrCreateInstance(target, { toggle: false });
                            collapse.hide();
                        } catch (e) { /* ignore */ }
                    }
                }
            };
        });

        function copyCode() {
            const text = document.getElementById("output").textContent;
            navigator.clipboard.writeText(text);
            alert("Code copied!");
        }
    </script>
</body>

</html>